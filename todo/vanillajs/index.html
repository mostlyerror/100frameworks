<html>

<body>
  <ul id="todos"></ul>
  <form>
    <input name="todo" type="text">
    <input type="submit" value="Add Todo">
  </form>

  <script>
    // Get DOM Elements
    const form = document.querySelector("form")
    const input = document.querySelector("[name='todo']")
    const todoList = document.getElementById("todos")

    // Side Effects / Lifecycle
    const existingTodos = JSON.parse(localStorage.getItem('todos'))
    const todoData = existingTodos || []
    todoData.forEach(todo => addTodo(todo))

    // Managing state
    const addTodo = todoText => {
      console.log(todoText)
      todoData.push(todoText)
      const li = document.createElement("li")
      li.innerHTML = todoText
      todoList.append(li)
      localStorage.setItem('todoData', JSON.stringify(todoData))
    }

    // Events
    form.onsubmit = event => {
      event.preventDefault()
      addTodo(input.value)
      input.value = ''
    }
  </script>
</body>

</html>